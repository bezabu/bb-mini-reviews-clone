(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{103:function(e,a,t){},11:function(e,a,t){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",FillerImage:"App_FillerImage__2ob-g",Image:"App_Image__3UPXw",Content:"App_Content__ZaMNr"}},133:function(e,a,t){"use strict";t.r(a);var s=t(1),c=t.n(s),n=t(36),l=t.n(n),r=(t(103),t(11)),i=t.n(r),o=t(57),j=t(97),d=t(13),m=t.p+"static/media/film_logo.7aa34753.png",u=t(21),b=t.n(u),x=t(17),O=t(22),h=t.n(O);h.a.defaults.baseURL="/api",h.a.defaults.headers.post["Content-Type"]="multipart/form-data",h.a.defaults.withCredentials=!0;const g=h.a.create(),p=h.a.create();var v=t(12),f=t(85);const N=async(e,a)=>{try{const{data:t}=await g.get(e.next);a((e=>({...e,next:t.next,results:t.results.reduce(((e,a)=>e.some((e=>e.id===a.id))?e:[...e,a]),e.results)})))}catch(t){}},w=(e,a,t)=>e.id===a.id?{...e,followers_count:e.followers_count+1,following_id:t}:e.is_owner?{...e,following_count:e.following_count+1}:e,A=(e,a)=>e.id===a.id?{...e,followers_count:e.followers_count-1,following_id:null}:e.is_owner?{...e,following_count:e.following_count-1}:e,C=()=>{localStorage.removeItem("refreshTokenTimestamp")};var y=t(0);const I=Object(s.createContext)(),k=Object(s.createContext)(),B=()=>Object(s.useContext)(I),R=()=>Object(s.useContext)(k),S=e=>{let{children:a}=e;const[t,c]=Object(s.useState)(null),n=Object(v.useHistory)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await p.get("/dj-rest-auth/user/");c(e)}catch(e){console.log(e)}})()}),[]),Object(s.useMemo)((()=>{g.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await h.a.post("/dj-rest-auth/token/refresh/")}catch{return c((e=>(e&&n.push("/signin"),null))),C(),e}return e}),(e=>Promise.reject(e))),p.interceptors.response.use((e=>e),(async e=>{var a;if(401===(null===(a=e.response)||void 0===a?void 0:a.status)){try{await h.a.post("/dj-rest-auth/token/refresh/")}catch(e){c((e=>(e&&n.push("/signin"),null))),C()}return h()(e.config)}return Promise.reject(e)}))}),[n]),Object(y.jsx)(I.Provider,{value:t,children:Object(y.jsx)(k.Provider,{value:c,children:a})})};var E=t(88),P=t.n(E);var M=e=>{let{src:a,height:t=45,text:s}=e;return Object(y.jsxs)("span",{children:[Object(y.jsx)("img",{className:P.a.Avatar,src:a,height:t,width:t,alt:"avatar"}),s]})};var U=()=>{const[e,a]=Object(s.useState)(!1),t=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=e=>{t.current&&!t.current.contains(e.target)&&a(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[t]),{expanded:e,setExpanded:a,ref:t}};var Q=()=>{const e=B(),a=R(),{expanded:t,setExpanded:s,ref:c}=U(),n=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/signin",children:[Object(y.jsx)("i",{className:"fa-solid fa-right-to-bracket"}),"Sign in"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/signup",children:[Object(y.jsx)("i",{className:"fa-solid fa-user-plus"}),"Sign up"]})]}),l=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/feed",children:[Object(y.jsx)("i",{className:"fa-solid fa-ticket"}),"Feed"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/popular",children:[Object(y.jsx)("i",{className:"fa-solid fa-star"}),"Popular"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/liked",children:[Object(y.jsx)("i",{className:"fa-solid fa-heart"}),"Liked"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,to:"/",onClick:async()=>{try{await h.a.post("dj-rest-auth/logout/"),a(null),C()}catch(e){console.log(e)}},children:[Object(y.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),"Sign out"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),onClick:()=>{},children:[Object(y.jsx)(M,{src:null===e||void 0===e?void 0:e.profile_image,height:40}),null===e||void 0===e?void 0:e.username]})]});return Object(y.jsxs)(o.a,{expanded:t,className:b.a.NavBar,bg:"light",expand:"md",fixed:"top",children:[Object(y.jsx)(x.c,{to:"/",children:Object(y.jsx)(o.a.Brand,{children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)("img",{src:m,alt:"film logo",height:"50"}),Object(y.jsx)("h1",{className:b.a.Title,children:"Movie Reviews"})]})})}),Object(y.jsx)(o.a.Toggle,{ref:c,onClick:()=>s(!t),"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(j.a,{className:"ml-auto text-left",children:[Object(y.jsxs)(x.c,{exact:!0,className:b.a.NavLink,activeClassName:b.a.Active,to:"/",children:[Object(y.jsx)("i",{className:"fa-solid fa-house"}),"Home"]}),Object(y.jsxs)(x.c,{className:b.a.NavLink,activeClassName:b.a.Active,to:"/movies",children:[Object(y.jsx)("i",{className:"fa-solid fa-clapperboard"}),"Movies"]}),e?l:n]})})]})},D=t(15),L=t(29),F=t.n(L),_=t(9),T=t.n(_),G=t(14),Y=t(10),Z=t(4),z=t(19),V=t(18);const K=e=>{const a=Object(v.useHistory)();Object(s.useEffect)((()=>{(async()=>{try{await h.a.post("/dj-rest-auth/token/refresh/"),"loggedIn"===e&&a.push("/")}catch(t){"loggedOut"===e&&a.push("/")}})()}),[a,e])};var J=()=>{var e,a,t,c;K("loggedIn");const[n,l]=Object(s.useState)({username:"",password1:"",password2:""}),{username:r,password1:o,password2:j}=n,[m,u]=Object(s.useState)({}),b=Object(D.useHistory)(),O=e=>{l({...n,[e.target.name]:e.target.value})};return Object(y.jsx)(G.a,{className:F.a.Row,children:Object(y.jsxs)(Y.a,{md:6,children:[Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(y.jsx)("h1",{className:F.a.Header,children:"sign up"}),Object(y.jsxs)(Z.a,{onSubmit:async e=>{e.preventDefault();try{await h.a.post("dj-rest-auth/registration/",n),b.push("/signin")}catch(t){var a;u(null===(a=t.response)||void 0===a?void 0:a.data)}},children:[Object(y.jsxs)(Z.a.Group,{controlId:"username",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"username"}),Object(y.jsx)(Z.a.Control,{className:F.a.Input,type:"text",placeholder:"username",name:"username",value:r,onChange:O})]}),null===(e=m.username)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{controlId:"password1",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"password"}),Object(y.jsx)(Z.a.Control,{className:F.a.Input,type:"password",placeholder:"Password",name:"password1",value:o,onChange:O})]}),null===(a=m.password1)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{controlId:"password2",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"confirm password"}),Object(y.jsx)(Z.a.Control,{className:F.a.Input,type:"password",placeholder:"confirm assword",name:"password2",value:j,onChange:O})]}),null===(t=m.password2)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Wide),type:"submit",children:"Sign up"}),null===(c=m.non_field_errors)||void 0===c?void 0:c.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},a)))]})]}),Object(y.jsx)(d.a,{className:"mt-3 ".concat(i.a.Content),children:Object(y.jsxs)(x.b,{className:F.a.Link,to:"/signin",children:["Already have an account? ",Object(y.jsx)("span",{children:"Sign in"})]})})]})})};var H=function(){var e,a,t;const c=R();K("loggedIn");const[n,l]=Object(s.useState)({username:"",password:""}),{username:r,password:o}=n,[j,m]=Object(s.useState)({}),u=Object(D.useHistory)(),b=e=>{l({...n,[e.target.name]:e.target.value})};return Object(y.jsx)(G.a,{className:F.a.Row,children:Object(y.jsxs)(Y.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(y.jsx)("h1",{className:F.a.Header,children:"sign in"}),Object(y.jsxs)(Z.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await h.a.post("/dj-rest-auth/login/",n);c(e.user),(e=>{const a=Object(f.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",a)})(e),u.goBack()}catch(t){var a;m(null===(a=t.response)||void 0===a?void 0:a.data)}},children:[Object(y.jsxs)(Z.a.Group,{controlId:"username",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Username"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"Username",name:"username",className:F.a.Input,value:r,onChange:b})]}),null===(e=j.username)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{controlId:"password",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Password"}),Object(y.jsx)(Z.a.Control,{type:"password",placeholder:"Password",name:"password",className:F.a.Input,value:o,onChange:b})]}),null===(a=j.password)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Wide," ").concat(T.a.Bright),type:"submit",children:"Sign in"}),null===(t=j.non_field_errors)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",className:"mt-3",children:e},a)))]})]}),Object(y.jsx)(d.a,{className:"mt-3 ".concat(i.a.Content),children:Object(y.jsxs)(x.b,{className:F.a.Link,to:"/signup",children:["Don't have an account? ",Object(y.jsx)("span",{children:"Sign up now!"})]})})]})})},W=t(23),X=t.n(W),q=t(136),$=t(90),ee=t.n($);var ae=e=>{let{spinner:a,src:t,message:s}=e;return Object(y.jsxs)("div",{className:"".concat(ee.a.Asset," p-4"),children:[a&&Object(y.jsx)(q.a,{animation:"border"}),t&&Object(y.jsx)("img",{src:t,alt:s}),s&&Object(y.jsx)("p",{className:"mt-4",children:s})]})},te=t(91);var se=function(){const[e,a]=Object(s.useState)(),[t,c]=Object(s.useState)({results:[]}),[n,l]=Object(s.useState)(!1),{pathname:r}=Object(v.useLocation)();return Object(s.useEffect)((()=>{l(!1),(async()=>{try{const{data:e}=await g.get("/genres");c(e),l(!0)}catch(e){console.log(e)}})()}),[r]),Object(y.jsxs)(y.Fragment,{children:[e,Object(y.jsx)("select",{value:e,onChange:e=>{a(e.target.value)},children:n?Object(y.jsx)(y.Fragment,{children:t.results.length?t.results.map((e=>Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("option",{...e,value:e.id,children:e.name},e.id)}))):null}):null})]})};var ce=function(){var e,a,t,c,n;K("loggedOut");const[l,r]=Object(s.useState)({}),[o,j]=Object(s.useState)({title:"",year:"",genre:1,director:"",actors:"",image:""}),{title:m,year:u,genre:b,director:x,actors:O,image:h}=o,p=Object(s.useRef)(null),f=Object(v.useHistory)(),N=e=>{j({...o,[e.target.name]:e.target.value})},w=Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>f.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"create"})]});return Object(y.jsx)(Z.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("title",m),a.append("year",u),a.append("genre",b),a.append("director",x),a.append("actors",O),a.append("image",p.current.files[0]);try{const{data:e}=await g.post("/movies/",a);f.push("/movies/".concat(e.id))}catch(n){var t,s,c;if(console.log(n),401!==(null===(t=n.response)||void 0===t?void 0:t.status))console.log(null===(s=n.response)||void 0===s?void 0:s.data),r(null===(c=n.response)||void 0===c?void 0:c.data)}},children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(Y.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," ").concat(X.a.Container," d-flex flex-column justify-content-center"),children:[Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Title"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"title",name:"title",className:X.a.Input,value:m,onChange:N})]}),null===l||void 0===l||null===(e=l.title)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Year"}),Object(y.jsx)(Z.a.Control,{type:"year",placeholder:"year",name:"year",className:X.a.Input,value:u,onChange:N})]}),null===l||void 0===l||null===(a=l.year)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Director"}),Object(y.jsx)(Z.a.Control,{type:"director",placeholder:"director",name:"director",className:X.a.Input,value:x,onChange:N})]}),null===l||void 0===l||null===(t=l.director)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(y.jsx)(Z.a.Label,{children:"Genre "}),Object(y.jsx)(se,{})]}),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Actors"}),Object(y.jsx)(Z.a.Control,{type:"actors",placeholder:"actors",name:"actors",className:X.a.Input,value:O,onChange:N})]}),null===l||void 0===l||null===(c=l.actors)||void 0===c?void 0:c.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{className:"text-center",children:[h?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("figure",{children:Object(y.jsx)(te.a,{className:i.a.Image,src:h,rounded:!0})}),Object(y.jsx)("div",{children:Object(y.jsx)(Z.a.Label,{className:"".concat(T.a.Button," ").concat(T.a.Blue," btn"),htmlFor:"image-upload",children:"Change the image"})})]}):Object(y.jsx)(Z.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(y.jsx)(ae,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACDCAYAAAB7o75uAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnMAABJzAYwiuQcAAANwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyI+DQogIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+DQogICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIC8+DQogICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPg0KICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMjQtMDctMTVUMTM6MjA6NTcuOTU3PC94bXA6Q3JlYXRlRGF0ZT4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+DQogICAgICA8ZGM6Y3JlYXRvcj4NCiAgICAgICAgPHJkZjpTZXEgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4NCiAgICAgICAgICA8cmRmOmxpPkJlbiBCdXRsZXI8L3JkZjpsaT4NCiAgICAgICAgPC9yZGY6U2VxPg0KICAgICAgPC9kYzpjcmVhdG9yPg0KICAgIDwvcmRmOkRlc2NyaXB0aW9uPg0KICA8L3JkZjpSREY+DQo8L3g6eG1wbWV0YT4NCjw/eHBhY2tldCBlbmQ9InIiPz5V07oDAAAKDUlEQVR4Xu2dW0wUSxqAG8QLygG8AAYk3sDVnEMMUccDMiMIKiCRiOJuADGIYKIYjfpiYnwwZl+MD2ZXNjF7Ntns6oNG18M5uw8eJOHFGPEOMsptQEAYBgRRIzgDvf9fVp/YMigz091TPVNf8tNd1UxTVV9XV/V0MxMgTMKFCxfmVFZWznrx4oUYGBhIc3XNm/Hx8TG6PoGYmJjvuru7Z+Tl5Tlu3LjxhmZrzgQh5eXl61pbWw/bbLb1TU1Nc0ZGRkS6Sa9gHUchtkE8xwxnLFy48Epvb29GVFTU+9jY2DaIa2VlZT9lZ2fb6a9oz4YNG/bHx8dj4VGCL4UDIgFiUkDIbVj8/pr58+eLCQkJ/01MTPwOt2tOVlbWjoiIiM8r4UsxAvEDxKSAkFuwmPDaefPm/bZmzRptpZw/fz4MjgbszhMK5CPhtpCAgACUUm0wGEIhrTpktK6trV3X19f3B5LDkSGKojA0NJTe0tJyQwspRAgM4t/39/eTDM5EYHYmDA4Opre1tf1n/fr1qkohQp49exY0NjbpjJADYE+Bg3YTSklKSgqj2YpDhOB5kqQ43wSlwOnrptFo/KaU4ODgaRg0OSV84opPS2hPSYUL5pvJycnhNFsxuBA3QCkwCUqF09dNk8k0qZQPHz6MYdDklOBCPACu7DdiT0lLS1Osp3AhHgI9ZaPZbP45JSVlLs3yCC7EQ/D0ZbVaTTjQw5jisRQuRAFQCpy+TBaL5efNmzd7JIULUZCenh4jnL6qMjIy5tEsl+FCFKa7uzsFLrSrNm7c6JYULkRh8PQFPWVDa2trVWZm5nyaPWW4EJXo6ura0NDQUAVjiktSuBAVASnJz58/r9q2bdsCmvVNuBCVQSnYU9LT06ckhQtRGRxTOjo6kpqamn7JycmJoNmTwoVoBPSUH+vr66tyc3O/KoUL0QjsKS9fvvzx6dOnv3xNCheiISgFrubXNzY2/pqfnx9Js2VwIV6gubnZcP/+fewpE6RwIV4CeooBZl+/7ty5UyaFC/EicDW/DqXs37//9zGFC/EyMB1eBwP9X2iSC/E2OND39fX9sbCw0IhpLoQB4MJRMJvNqbjOhVDwYThvgb0ELhyX4Tr5d4SAgIBjkHke130UfKJ/LUQDSTkhLi6udnh42ARtQXO0BQ6If9tstj1cCOXo0aN5drt9Kax64xHOIIgnFy9e/I2kUAgsJjz57UPxAeJ7CObxizEkOjp6VlFRkSKP6aiNXwh5//49PhWyhCaZxi+EvHnzRoABO5MmmcZvpr1WqzVvz54962iSWfxGCFx8BdfX1/+zoqKCzPdZhfzvAsyykmCxFdd9GRhHIkZGRnYZDAZrcXGxpaam5iPdxAz+ch0iIzw8HP/J0xIYGFhvNptfBwUFeftMMQPav9rhcPxEUn5wHTJpQN1ZiX9BefxnDJkMfB+JkSCnT78XwgrQQ8iSC2EMLoQxuBDG4EIYgwthDC6EMbgQxuBCGIMLYQwuhDG4EMbQrRDpvR9nfG0b6+hSCH6wM75Dihw/fly4cuWKcPXqVeHMmTMkD7dNm+bS54axBRxRurkfAjLIcubMmWJNTY1ot9uh/T8xPj4uPn78WExNTSW/A1Jkr2U5wMGnm1OIXoRIMjDu3btHNUykpaVFTE9PJ7+nFym6EyLJCA4OFuvq6mjTT05bW5uYkZFBXqMHKboSIskICQkRHzx4QJv826CUrVu3kteyLkU3QiQZCxYscEmGhMViEbOzs8k+WJaiCyFSA0ZFRYkPHz6kTew67e3tYk5OjmyfrAXzQqSGW7Rokfjo0SPatO7T0dEh5ubmyvbNUjAtRGqwxYsXk2msUnR2doo7duyQ/Q1WglkhUkPFxcWJT548oU2pHChl165dsr/FQjApRGqg+Ph4sb6+njahcuCFI9Ld3c2cFOaESA2zatUqVWR8CUrZvXs3+ZtBQUGysngjmBLyuYyGhgbaZOqDUgoKCmRl8FYwI0RqiNWrV2sqQzp9vXr1SiwsLJSVxRvBhJDPZTQ2NpIG8gY9PT1iUVGRrExah9eFSBVPTEz0qgyJ3t5esbi4WFY2LcOrQqQKGwwG0Ww20ybxPiilpKREVkatwmtCpIomJSWJ+C2irCCNKVarVdy3b5+srFqEV4RIFUxOThabmppIA7BIX1+fWFpaKiuz2qG5EKliRqORaRkS2FPKyspkZVczNBUiVchkMonNzc20yuyDPaW8vFxWB7VCMyFSRdLS0sTW1lZaVfaRxhSbzSYeOHBAVhc1QhMhUgXwVqqeZHxJf3+/ePDgQVmdlA7VhUgFz8zMJLdS9c7AwIBYUVEhq5uSoaoQ6c26rKwscgtV70inL5Ry+PBhUjelpagmRLoHvn37dnKXzleQpLx+/Vo8cuQIqaOSUlTtIbGxsbqY2roLzr7wgHNWd3dDEqLKo6THjh0T4uPjacr3iIiIEEpKSmhKWVQRsnz5crrmuyxZos7noaki5N27d3TNd8FPqVMDVYTcvn0bv5iXpnyTO3fu0DUVUHpQx7h8+bLocDjoMOhb4FP3zursSUiDuqqfl3X27FkhOztbiIx0+t0lUwam0mQghesbmuMaUDfBZrMJHz9+xLrSXNcZGhoSamtrhUOHDpE07gv3rQSwr3/AvkpVEfJlQWG+LsyePZumXOPt27fCli1bhGvXrgmhoaE01zXGxsaEkydPCufOnRNCQkLcloJlkcCDBK5NaMpzJCFSQvFTlpKxadMmcXh4GMrrHnjqPHHihNN9sxLgQL3rEKXBo9FT3O0VWqMLIf4EF8IYXAhjcCGMwYUwBhfCGFwIY3AhjMGFMAYXwhhcCGNwIYzBhTAGF8IYXAhjcCGMoQsheIPK0xtM/AaVggwPDwt2u52mXAfvfevlWTFdCLl7965gsVhoynWsVqtw/fp1mmIb3Ywhly5dEgYHB2lq6uCjP/gxsihFD6ctXXyxJD5GVFdXR56LiomJEYKDgwWHwyGMjo6SBncWuK2jo0OorKwUTp06RffELuDgESyqyCEDCea/WBKl4PNViMlkIs9oQZlJ+kuwJ4yMjAjV1dU0h32gzPp5LksKKKfT/K+FO6/xRkA59fNclsRkPeJruPMab6IrIf4AF8IYXAhjcCGMwYUwBhfCGESI3qaGvojkgAhZunSpIv+DwXGfZcuWEQHkx8qVK5vDw8NxleMFpk+fLqxYsYK8nU2ErF27ti4mJqYP1znaA20/HhkZ+T+a/ERWVtbR0NBQ8r4KD23DaDT+DZYTSUhI+HN0dLTTF/FQPsLCwkQ4VV0tKCiYCWnChDs2+fn5f2pvbz8yMDDwQ2dn5yz8Wjq6iaMAAUBsbKx97ty5rVFRUX8/ffr0X1NSUj7dVwCc3kKDKVhgaWnpklu3bs3p6urCt4bpFo4n4NR2xowZQl5e3kcYIjr27t07SjdRBOH/W9E+1Aadx0kAAAAASUVORK5CYII=",message:"Click or tap to upload an image"})}),Object(y.jsx)(Z.a.File,{id:"image-upload",accept:"image/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(h),j({...o,image:URL.createObjectURL(e.target.files[0])}))},ref:p,custom:!0})]}),null===l||void 0===l||null===(n=l.image)||void 0===n?void 0:n.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)("div",{className:"d-md-none",children:w})]})}),Object(y.jsx)(Y.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(y.jsx)(d.a,{className:i.a.Content,children:w})})]})})};var ne=function(){var e,a,t;K("loggedOut");const[c,n]=Object(s.useState)({}),[l,r]=Object(s.useState)({movie:"",content:"",rating:""}),{content:o,rating:j,movie:m}=l,[u,b]=Object(s.useState)(!1),[x,O]=Object(s.useState)({results:[]}),h=Object(v.useHistory)(),[p,f]=Object(s.useState)(""),N=e=>{r({...l,[e.target.name]:e.target.value})},w=Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>h.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"create"})]}),A=async e=>{try{const{data:a}=await g.get("/movies/?search=".concat(e));O(a)}catch(a){console.log(a)}};return Object(s.useEffect)((()=>{b(!1),(async()=>{try{A(p),b(!0)}catch(e){console.log(e)}})()}),[p]),Object(y.jsx)(Z.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("content",o),a.append("rating",j),a.append("movie",m);try{const{data:e}=await g.post("/reviews",a);h.push("/reviews/".concat(e.id))}catch(l){var t,s,c;if(console.log(l),401!==(null===(t=l.response)||void 0===t?void 0:t.status))console.log(null===(s=l.response)||void 0===s?void 0:s.data),n(null===(c=l.response)||void 0===c?void 0:c.data)}},children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(Y.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," ").concat(X.a.Container," d-flex flex-column justify-content-center"),children:[Object(y.jsx)("i",{className:"fas fa-search ".concat(X.a.SearchIcon)}),Object(y.jsx)(Z.a.Group,{className:X.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(y.jsx)(Z.a.Control,{type:"text",className:"mr-sm-2",placeholder:"search movies",value:p,onChange:e=>{f(e.target.value),A()}})}),Object(y.jsx)(Z.a.Group,{children:Object(y.jsx)(Z.a.Control,{as:"select",onChange:N,custom:!0,children:u?Object(y.jsx)(y.Fragment,{children:null!==x&&void 0!==x&&x.results.length?x.results.map((e=>Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("option",{...e,value:x.results.id,children:x.results.title},x.results.id)}))):Object(y.jsx)("option",{disabled:!0,children:"No results"})}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{spinner:!0})})})}),Object(y.jsx)("p",{children:m}),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Movie"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"movie",name:"movie",className:X.a.Input,value:m,onChange:N})]}),null===c||void 0===c||null===(e=c.movie)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Content"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"content",name:"content",className:X.a.Input,value:o,onChange:N})]}),null===c||void 0===c||null===(a=c.content)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),["radio"].map((e=>Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"No stars",name:"rating",value:"0",type:e,id:"inline-".concat(e,"-1")}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"One star",name:"rating",value:"1",type:e,id:"inline-".concat(e,"-2")}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Two stars",name:"rating",value:"2",type:e,id:"inline-".concat(e,"-3")}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Three stars",name:"rating",value:"3",type:e,id:"inline-".concat(e,"-4")}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Four stars",name:"rating",value:"4",type:e,id:"inline-".concat(e,"-5")}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Five stars",name:"rating",value:"5",type:e,id:"inline-".concat(e,"-6")})]},"inline-".concat(e)))),null===c||void 0===c||null===(t=c.rating)||void 0===t?void 0:t.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)("div",{className:"d-md-none",children:w})]})}),Object(y.jsx)(Y.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(y.jsx)(d.a,{className:i.a.Content,children:w})})]})})};var le=function(){var e,a;K("loggedOut");const{movie:t}=Object(v.useParams)(),[c,n]=Object(s.useState)({}),[l,r]=Object(s.useState)({movie:"",content:"",rating:""}),{content:o,rating:j}=l,[m,u]=Object(s.useState)({id:"",title:"",year:"",genre:"",director:"",actors:"",reviews_count:"",image:""}),b=Object(v.useHistory)(),x=e=>{r({...l,[e.target.name]:e.target.value})};Object(s.useEffect)((()=>{(async()=>{(async()=>{try{const{data:e}=await g.get("/movies/".concat(t));u(e)}catch(e){console.log(e)}})()})()}),[t,m]);const O=Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>b.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"create"})]});return Object(y.jsx)(Z.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("movie",t),a.append("content",o),a.append("rating",j);try{const{data:e}=await g.post("/reviews/",a);b.push("/reviews/".concat(e.id))}catch(r){var s,c,l;if(console.log(r),401!==(null===(s=r.response)||void 0===s?void 0:s.status))console.log(null===(c=r.response)||void 0===c?void 0:c.data),n(null===(l=r.response)||void 0===l?void 0:l.data)}},children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(Y.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," ").concat(X.a.Container," d-flex flex-column justify-content-center"),children:[m.title," - ",m.year,Object(y.jsx)("img",{src:m.image,alt:m.title}),Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Content"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"content",name:"content",className:X.a.Input,value:o,onChange:x})]}),null===c||void 0===c||null===(e=c.content)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"No stars",name:"rating",value:0,type:"radio",id:"inline-radio-1",onChange:x}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"One star",name:"rating",value:1,type:"radio",id:"inline-radio-2",onChange:x}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Two stars",name:"rating",value:2,type:"radio",id:"inline-radio-3",onChange:x}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Three stars",name:"rating",value:3,type:"radio",id:"inline-radio-4",onChange:x}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Four stars",name:"rating",value:4,type:"radio",id:"inline-radio}-5",onChange:x}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Five stars",name:"rating",value:5,type:"radio",id:"inline-".concat("radio","-6"),onChange:x})]},"inline-radio"),null===c||void 0===c||null===(a=c.rating)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)("div",{className:"d-md-none",children:O})]})}),Object(y.jsx)(Y.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(y.jsx)(d.a,{className:i.a.Content,children:O})})]})})},re=t(32),ie=t.n(re),oe=t(98),je=t(138),de=t(137);var me=e=>{let{id:a,name:t,color:s}=e;return Object(y.jsx)(de.a,{style:{background:"#".concat(s),color:"black",fontSize:"125%",margin:"5px"},children:t})},ue="data:image/png;base64,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";var be=function(e){let{filter:a=""}=e;const[t,c]=Object(s.useState)({results:[]}),[n,l]=Object(s.useState)(!1),{pathname:r}=Object(v.useLocation)();return Object(s.useEffect)((()=>{l(!1),(async()=>{try{const{data:e}=await g.get("/genres/?".concat(a));c(e),l(!0)}catch(e){console.log(e)}})()}),[a,r]),Object(y.jsx)(G.a,{children:Object(y.jsx)(Y.a,{children:n?Object(y.jsx)(y.Fragment,{children:t.results.length?t.results.map((e=>Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(me,{...e,color:e.color,name:e.name,setGenres:c},e)}))):Object(y.jsx)(d.a,{children:Object(y.jsx)(ae,{src:ue})})}):Object(y.jsx)(d.a,{children:Object(y.jsx)(ae,{spinner:!0})})})})};var xe=function(e){const{id:a}=Object(v.useParams)(),{title:t,genre:s,year:c,director:n,actors:l,reviews_count:r,reviews_avg:o,image:j,is_curator:m,moviePage:u}=e,b=B();return Object(y.jsxs)(oe.a,{className:ie.a.Movie,children:[Object(y.jsx)(oe.a.Body,{children:Object(y.jsx)(je.a,{className:"align--items-center justify-content-between",children:Object(y.jsx)("div",{className:"d-flex align-items-center",children:m&&u&&"..."})})}),Object(y.jsx)(oe.a.Body,{children:t&&Object(y.jsxs)(oe.a.Title,{className:"text-center",children:[t," - ",c]})}),Object(y.jsx)(v.Link,{to:"/movies/".concat(a),children:Object(y.jsx)(oe.a.Img,{src:j,alt:t})}),Object(y.jsxs)(oe.a.Text,{children:[null!==s&&void 0!==s&&s.length?s.map((e=>Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(be,{filter:"id=".concat(e,"&"),...e},e)}))):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{src:ue})}),"Average rating: ",o," (",Object(y.jsxs)(v.Link,{to:"/reviewsm/".concat(a),children:[" ",r," reviews"]})," )",Object(y.jsx)("br",{}),n,Object(y.jsx)("br",{}),l,Object(y.jsx)("br",{}),b&&Object(y.jsx)(v.Link,{to:"/reviews/m/".concat(a),children:"Write your own review!"})]})]})};const Oe=Object(s.createContext)(),he=Object(s.createContext)(),ge=()=>Object(s.useContext)(Oe),pe=()=>Object(s.useContext)(he),ve=e=>{let{children:a}=e;const[t,c]=Object(s.useState)({pageProfile:{results:[]},popularProfiles:{results:[]}}),n=B();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await g.get("/profiles/?ordering=-followers_count");c((a=>({...a,popularProfiles:e})))}catch(e){console.log(e)}})()}),[n]),Object(y.jsx)(Oe.Provider,{value:t,children:Object(y.jsx)(he.Provider,{value:{setProfileData:c,handleFollow:async e=>{try{const{data:a}=await p.post("/follows/",{followed:e.id});c((t=>({...t,pageProfile:{results:t.pageProfile.results.map((t=>w(t,e,a.id)))},popularProfiles:{...t.popularProfiles,results:t.popularProfiles.results.map((t=>w(t,e,a.id)))}})))}catch(a){console.log(a)}},handleUnfollow:async e=>{try{await p.delete("/follows/".concat(e.following_id,"/")),c((a=>({...a,pageProfile:{results:a.pageProfile.results.map((a=>A(a,e)))},popularProfiles:{...a.popularProfiles,results:a.popularProfiles.results.map((a=>A(a,e)))}})))}catch(a){console.log(a)}}},children:a})})};var fe=t(92),Ne=t.n(fe);var we=e=>{const{profile:a,mobile:t,imageSize:s=45}=e,{id:c,following_id:n,image:l,owner:r}=a,i=B(),o=(null===i||void 0===i?void 0:i.username)===r,{handleFollow:j,handleUnfollow:d}=pe();return Object(y.jsxs)("div",{className:"my-3 d-flex align-items-center ".concat(t&&"flex-column"),children:[Object(y.jsx)("div",{children:Object(y.jsx)(x.b,{className:"align-self-center",to:"/profiles/".concat(c),children:Object(y.jsx)(M,{src:l,height:s})})}),Object(y.jsx)("div",{className:"mx-2 ".concat(Ne.a.WordBreak),children:Object(y.jsx)("strong",{children:r})}),Object(y.jsx)("div",{className:"text-right ".concat(!t&&"ml-auto"),children:!t&&i&&!o&&(n?Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.BlackOutline),onClick:()=>d(a),children:"unfollow"}):Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Black),onClick:()=>j(a),children:"follow"}))})]})};var Ae=e=>{let{mobile:a}=e;const{popularProfiles:t}=ge();return Object(y.jsx)(d.a,{className:"".concat(i.a.Content," ").concat(a&&"d-lg-none text-center mb-3"),children:t.results.length?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{children:"Most followed profiles."}),a?Object(y.jsx)("div",{className:"d-flex justify-content-around",children:t.results.slice(0,4).map((e=>Object(y.jsx)(we,{profile:e,mobile:!0},e.id)))}):t.results.map((e=>Object(y.jsx)(we,{profile:e},e.id)))]}):Object(y.jsx)(ae,{spinner:!0})})};var Ce=function(){const{id:e}=Object(v.useParams)(),[a,t]=Object(s.useState)({results:[]});return Object(s.useEffect)((()=>{(async()=>{try{const[{data:a}]=await Promise.all([g.get("/movies/".concat(e))]);t({results:[a]})}catch(a){console.log(a)}})()}),[e]),Object(y.jsxs)(G.a,{className:"h-100",children:[Object(y.jsxs)(Y.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(y.jsx)(Ae,{mobile:!0}),Object(y.jsx)(xe,{...a.results[0],setMovies:t,moviePage:!0})]}),Object(y.jsx)(Y.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(y.jsx)(Ae,{})})]})},ye=t(93),Ie=t(48),ke=t.n(Ie);var Be=function(e){const{review:a,setReview:t,setComments:c,profileImage:n,profile_id:l}=e,[r,i]=Object(s.useState)("");return Object(y.jsxs)(Z.a,{className:"mt-2",onSubmit:async e=>{e.preventDefault();try{const{data:e}=await p.post("/comments/",{content:r,review:a});c((a=>({...a,results:[e,...a.results]}))),t((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count+1}]}))),i("")}catch(s){console.log(s)}},children:[Object(y.jsx)(Z.a.Group,{children:Object(y.jsxs)(ye.a,{children:[Object(y.jsx)(x.b,{to:"/profiles/".concat(l),children:Object(y.jsx)(M,{src:n})}),Object(y.jsx)(Z.a.Control,{className:ke.a.Form,placeholder:"my comment...",as:"textarea",value:r,onChange:e=>{i(e.target.value)},rows:2})]})}),Object(y.jsx)("button",{className:"".concat(ke.a.Button," btn d-block ml-auto"),disabled:!r.trim(),type:"submit",children:"post"})]})},Re=t(26),Se=t.n(Re),Ee=t(75),Pe=t(74),Me=t(33),Ue=t(68),Qe=t.n(Ue);const De=c.a.forwardRef(((e,a)=>{let{onClick:t}=e;return Object(y.jsx)("i",{className:"fas fa-ellipsis-v",ref:a,onClick:e=>{e.preventDefault(),t(e)}})})),Le=e=>{let{handleEdit:a,handleDelete:t}=e;return Object(y.jsxs)(Me.a,{className:"ml-auto",drop:"left",children:[Object(y.jsx)(Me.a.Toggle,{as:De}),Object(y.jsxs)(Me.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(y.jsx)(Me.a.Item,{className:Qe.a.DropdownItem,onClick:a,"aria-label":"edit",children:Object(y.jsx)("i",{className:"fas fa-edit"})}),Object(y.jsx)(Me.a.Item,{className:Qe.a.DropdownItem,onClick:t,"aria-label":"delete",children:Object(y.jsx)("i",{className:"fas fa-trash-alt"})})]})]})};function Fe(e){let{id:a}=e;const t=Object(D.useHistory)();return Object(y.jsxs)(Me.a,{className:"ml-auto px-3 ".concat(Qe.a.Absolute),drop:"left",children:[Object(y.jsx)(Me.a.Toggle,{as:De}),Object(y.jsxs)(Me.a.Menu,{children:[Object(y.jsxs)(Me.a.Item,{onClick:()=>t.push("/profiles/".concat(a,"/edit")),"aria-label":"edit-profile",children:[Object(y.jsx)("i",{className:"fas fa-edit"})," edit profile"]}),Object(y.jsxs)(Me.a.Item,{onClick:()=>t.push("/profiles/".concat(a,"/edit/username")),"aria-label":"edit-username",children:[Object(y.jsx)("i",{className:"far fa-id-card"}),"change username"]}),Object(y.jsxs)(Me.a.Item,{onClick:()=>t.push("/profiles/".concat(a,"/edit/password")),"aria-label":"edit-password",children:[Object(y.jsx)("i",{className:"fas fa-key"}),"change password"]})]})]})}var _e=e=>{const{id:a,owner:t,movie:s,movie_title:c,movie_image:n,content:l,rating:r,is_owner:i,profile_id:o,profile_image:j,like_id:d,likes_count:m,comments_count:u,reviewPage:b,setReviews:x}=e,O=B(),h=Object(v.useHistory)(),g=[];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(G.a,{className:"".concat(Se.a.ReviewContainer," d-flex align--items-center "),children:Object(y.jsxs)(G.a,{className:"".concat(Se.a.ReviewMedia," align--items-center justify-content-between"),children:[Object(y.jsx)(Y.a,{className:"".concat(Se.a.ImageContainer),xs:12,sm:4,fluid:"true",children:Object(y.jsx)(v.Link,{to:"/movies/".concat(s),children:Object(y.jsx)("img",{className:Se.a.MovieImage,src:n,alt:c})})}),Object(y.jsxs)(Y.a,{className:"".concat(Se.a.ReviewContainerCol),xs:12,sm:8,children:[Object(y.jsxs)(G.a,{className:"".concat(Se.a.ReviewContainerRow," justify-content-between"),children:[Object(y.jsx)(Y.a,{className:"".concat(Se.a.ProfileContainer," align--items-left"),children:Object(y.jsxs)(v.Link,{to:"/profiles/".concat(o),children:[Object(y.jsx)(M,{src:j,height:55}),t]})}),Object(y.jsx)(Y.a,{className:"".concat(Se.a.Title),fluid:"true",children:c&&Object(y.jsx)(oe.a.Title,{className:"text-center",children:c})}),Object(y.jsx)(Y.a,{className:"".concat(Se.a.DropDownContainer," align--items-right"),children:i&&b&&Object(y.jsx)(Le,{handleEdit:()=>{h.push("/reviews/".concat(a,"/edit"))},handleDelete:async()=>{try{await p.delete("/reviews/".concat(a)),h.goBack()}catch(e){console.log(e)}}})})]}),Object(y.jsx)(G.a,{className:Se.a.ContentContainer,children:l}),Object(y.jsxs)(G.a,{className:"".concat(Se.a.BottomRow," align--items-center justify-content-between mt-auto"),children:[Object(y.jsx)(Y.a,{children:Object(y.jsx)("p",{className:Se.a.ReviewStars,children:(e=>{for(let a=0;a<e;a++)g.push(Object(y.jsx)("i",{className:"fa-solid fa-star"},a));for(let a=e;a<5;a++)g.push(Object(y.jsx)("i",{className:"fa-regular fa-star"},a));return g})(r)})}),Object(y.jsxs)(Y.a,{children:[i?Object(y.jsx)(Ee.a,{placement:"top",overlay:Object(y.jsx)(Pe.a,{children:"You can't like your own review!"}),children:Object(y.jsx)("i",{className:"fa-regular fa-heart"})}):d?Object(y.jsx)("span",{onClick:async()=>{try{await p.delete("/likes/".concat(d,"/")),x((e=>({...e,results:e.results.map((e=>e.id===a?{...e,likes_count:e.likes_count-1,like_id:null}:e))})))}catch(e){console.log(e)}},children:Object(y.jsx)("i",{className:"fa-regular fa-heart ".concat(Se.a.Heart)})}):O?Object(y.jsx)("span",{onClick:async()=>{try{const{data:e}=await p.post("/likes/",{review:a});x((t=>({...t,results:t.results.map((t=>t.id===a?{...t,likes_count:t.likes_count+1,like_id:e.id}:t))})))}catch(e){console.lof(e)}},children:Object(y.jsx)("i",{className:"fa-regular fa-heart ".concat(Se.a.HeartOutline)})}):Object(y.jsx)(Ee.a,{placement:"top",overlay:Object(y.jsx)(Pe.a,{children:"Log in to like reviews"}),children:Object(y.jsx)("i",{className:"fa-regular fa-heart"})}),m]}),Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(v.Link,{to:"/reviews/".concat(a),children:Object(y.jsx)("i",{className:"fa-regular fa-comment"})}),u]})]})]})]})})})};var Te=function(e){const{id:a,content:t,setShowEditForm:c,setComments:n}=e,[l,r]=Object(s.useState)(t);return Object(y.jsxs)(Z.a,{onSubmit:async e=>{e.preventDefault();try{await p.put("/comments/".concat(a,"/"),{content:l.trim()}),n((e=>({...e,results:e.results.map((e=>e.id===a?{...e,content:l.trim(),updated_at:"now"}:e))}))),c(!1)}catch(t){console.log(t)}},children:[Object(y.jsx)(Z.a.Group,{className:"pr-1",children:Object(y.jsx)(Z.a.Control,{className:ke.a.Form,as:"textarea",value:l,onChange:e=>{r(e.target.value)},rows:2})}),Object(y.jsxs)("div",{className:"text-right",children:[Object(y.jsx)("button",{className:ke.a.Button,onClick:()=>c(!1),type:"button",children:"cancel"}),Object(y.jsx)("button",{className:ke.a.Button,disabled:!t.trim(),type:"submit",children:"save"})]})]})},Ge=t(94),Ye=t.n(Ge);var Ze=e=>{const{id:a,owner:t,profile_id:c,profile_image:n,updated_at:l,content:r,setReview:i,setComments:o}=e,j=B(),d=(null===j||void 0===j?void 0:j.username)===t,[m,u]=Object(s.useState)(!1);return Object(y.jsxs)("div",{children:[Object(y.jsx)("hr",{}),Object(y.jsxs)(je.a,{children:[Object(y.jsx)(v.Link,{to:"/profiles/".concat(c),children:Object(y.jsx)(M,{src:n,height:"35",text:t})}),Object(y.jsxs)(je.a.Body,{className:"align-self-center ml-2",children:[Object(y.jsx)("span",{className:Ye.a.Date,children:l}),m?Object(y.jsx)(Te,{id:a,profile_id:c,content:r,profileImage:n,setComments:o,setShowEditForm:u}):Object(y.jsx)("p",{children:r})]}),d&&!m&&Object(y.jsx)(Le,{handleEdit:()=>u(!0),handleDelete:async()=>{try{await p.delete("/comments/".concat(a,"/")),i((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count-1}]}))),o((e=>({...e,results:e.results.filter((e=>e.id!==a))})))}catch(e){}}})]})]})},ze=t(38);var Ve=function(){const{id:e}=Object(v.useParams)(),[a,t]=Object(s.useState)({results:[]}),c=B(),n=null===c||void 0===c?void 0:c.profile_image,[l,r]=Object(s.useState)({results:[]});return Object(s.useEffect)((()=>{(async()=>{try{const[{data:a},{data:s}]=await Promise.all([g.get("/reviews/".concat(e)),g.get("/comments/?review=".concat(e))]);t({results:[a]}),r(s)}catch(a){console.log(a)}})()}),[e]),Object(y.jsxs)(G.a,{className:"h-100",children:[Object(y.jsxs)(Y.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(y.jsx)(Ae,{mobile:!0}),Object(y.jsx)(_e,{...a.results[0],setReviews:t,reviewPage:!0}),Object(y.jsxs)(d.a,{className:i.a.Content,children:[c?Object(y.jsx)(Be,{profile_id:c.profile_id,profileImage:n,review:e,setReview:t,setComments:r}):l.results.length?"Comments":null,l.results.length?Object(y.jsx)(ze.a,{children:l.results.map((e=>Object(y.jsx)(Ze,{...e,setReview:t,setComments:r},e.id))),dataLength:l.results.length,loader:Object(y.jsx)(ae,{spinner:!0}),hasMore:!!l.next,next:()=>N(l,r)}):c?Object(y.jsx)("span",{children:"Nothing here"}):Object(y.jsx)("span",{children:"Nothin here yet"})]})]}),Object(y.jsx)(Y.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(y.jsx)(Ae,{})})]})},Ke=t(31),Je=t.n(Ke);var He=function(e){let{message:a,filter:t=""}=e;const[c,n]=Object(s.useState)({results:[]}),[l,r]=Object(s.useState)(!1),{pathname:o}=Object(v.useLocation)(),[j,m]=Object(s.useState)("");return Object(s.useEffect)((()=>{r(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await g.get("/reviews/?".concat(t,"search=").concat(j));n(e),r(!0)}catch(e){console.log(e)}})()}),1e3);return()=>{clearTimeout(e)}}),[t,j,o]),Object(y.jsxs)(G.a,{className:"h-100",children:[Object(y.jsxs)(Y.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(y.jsx)(Ae,{mobile:!0}),Object(y.jsx)("i",{className:"fas fa-search ".concat(Je.a.SearchIcon)}),Object(y.jsx)(Z.a,{className:Je.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(y.jsx)(Z.a.Control,{type:"text",className:"mr-sm-2",placeholder:"search reviews",value:j,onChange:e=>m(e.target.value)})}),l?Object(y.jsx)(y.Fragment,{children:c.results.length?Object(y.jsx)(ze.a,{children:c.results.map((e=>Object(y.jsx)(_e,{...e,setReviews:n},e.id))),dataLength:c.results.length,loader:Object(y.jsx)(ae,{spinner:!0}),hasMore:!!c.next,next:()=>N(c,n)}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{src:ue,message:a})})}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{spinner:!0})})]}),Object(y.jsx)(Y.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(y.jsx)(Ae,{})})]})};var We=function(e){let{message:a}=e;const[t,c]=Object(s.useState)({results:[]}),[n,l]=Object(s.useState)(!1),{pathname:r}=Object(v.useLocation)(),[o,j]=Object(s.useState)("");return Object(s.useEffect)((e=>{l(!1);const a=setTimeout((()=>{(async()=>{try{const{data:a}=await g.get("/reviews/?movie=".concat(e.id));c(a),l(!0)}catch(a){console.log(a)}})()}),1e3);return()=>{clearTimeout(a)}}),[o,r]),Object(y.jsxs)(G.a,{className:"h-100",children:[Object(y.jsxs)(Y.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(y.jsx)("p",{children:"Popular profiles mobile"}),Object(y.jsx)("i",{className:"fas fa-search ".concat(Je.a.SearchIcon)}),Object(y.jsx)(Z.a,{className:Je.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(y.jsx)(Z.a.Control,{type:"text",className:"mr-sm-2",placeholder:"search reviews",value:o,onChange:e=>j(e.target.value)})}),n?Object(y.jsx)(y.Fragment,{children:t.results.length?Object(y.jsx)(ze.a,{children:t.results.map((e=>Object(y.jsx)(_e,{...e,setReviews:c},e.id))),dataLength:t.results.length,loader:Object(y.jsx)(ae,{spinner:!0}),hasMore:!!t.next,next:()=>N(t,c)}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{src:ue,message:a})})}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{spinner:!0})})]}),Object(y.jsx)(Y.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(y.jsx)("p",{children:"Popular profiles for desktop"})})]})};var Xe=e=>{const{id:a,title:t,year:s,director:c,actors:n,reviews_count:l,reviews_avg:r,image:i}=e,o=B();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Y.a,{className:"".concat(ie.a.MovieContainer),xs:12,sm:6,md:3,children:Object(y.jsx)(G.a,{className:"".concat(ie.a.InnerMovieContainer),children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(G.a,{className:"".concat(ie.a.MovieTitleContainer," align--items-center justify-content-between"),children:t&&Object(y.jsxs)("h2",{className:"".concat(ie.a.MovieTitle," text-center"),children:[t," - (",s,")"]})}),Object(y.jsx)(G.a,{className:ie.a.MovieImageContainer,children:Object(y.jsx)(v.Link,{to:"/movies/".concat(a),children:Object(y.jsx)(oe.a.Img,{src:i,alt:t,className:ie.a.MovieImage})})}),Object(y.jsxs)(G.a,{className:"".concat(ie.a.MovieTextContainer),children:["Average rating: ",r," (",Object(y.jsxs)(v.Link,{to:"/reviewsm/".concat(a),children:[" ",l," reviews"]})," )",Object(y.jsx)("br",{})]}),Object(y.jsxs)(G.a,{children:["Dir: ",c,Object(y.jsx)("br",{})]}),Object(y.jsxs)(G.a,{className:"".concat(ie.a.Truncate," ").concat(ie.a.Actors),children:[n,Object(y.jsx)("br",{})]}),Object(y.jsx)(G.a,{className:"align--items-center justify-content-between",children:o&&Object(y.jsx)(v.Link,{to:"/reviews/m/".concat(a),children:"Write your own review!"})})]})})})})};var qe=e=>{let{message:a,filter:t=""}=e;const[c,n]=Object(s.useState)({results:[]}),[l,r]=Object(s.useState)(!1),{pathname:o}=Object(v.useLocation)(),[j,m]=Object(s.useState)("");return Object(s.useEffect)((()=>{r(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await g.get("/movies/?".concat(t,"search=").concat(j));n(e),r(!0)}catch(e){console.log(e)}})()}),600);return()=>{clearTimeout(e)}}),[t,j,o]),Object(y.jsx)(G.a,{className:"".concat(Je.a.MoviesContainer," d-flex"),children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)("i",{className:"fas fa-search ".concat(Je.a.SearchIcon)}),Object(y.jsx)(Z.a,{className:Je.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(y.jsx)(Z.a.Control,{type:"text",className:"mr-sm-2",placeholder:"search movies",value:j,onChange:e=>m(e.target.value)})}),Object(y.jsx)(G.a,{className:Je.a.MoviesContainer,children:l?Object(y.jsx)(y.Fragment,{children:c.results.length?Object(y.jsx)(ze.a,{children:c.results.map((e=>Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Xe,{...e,setMovies:n,className:"".concat(Je.a.MoviesContainer)},e.id)}))),dataLength:c.results.length,loader:Object(y.jsx)(ae,{spinner:!0}),hasMore:!!c.next,next:()=>N(c,n)}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{src:ue,message:a})})}):Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsx)(ae,{spinner:!0})})})]})})};var $e=function(){var e,a;const[t,c]=Object(s.useState)({}),[n,l]=Object(s.useState)({movie:"",content:"",rating:""}),{content:r,rating:o,movie:j}=n,m=Object(v.useHistory)(),{id:u}=Object(v.useParams)();Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await g.get("/reviews/".concat(u)),{movie:a,content:t,rating:s,is_owner:c}=e;c?l({movie:a,content:t,rating:s}):m.push("/")}catch(e){console.log(e)}})()}),[m,u]);const b=e=>{l({...n,[e.target.name]:e.target.value})},x=Object(y.jsxs)("div",{className:"text-center",children:[Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>m.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"save"})]});return Object(y.jsx)(Z.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("movie",j),a.append("content",r),a.append("rating",o);try{await g.put("/reviews/".concat(u),a),m.push("/reviews/".concat(u))}catch(l){var t,s,n;if(console.log(l),401!==(null===(t=l.response)||void 0===t?void 0:t.status))console.log(null===(s=l.response)||void 0===s?void 0:s.data),c(null===(n=l.response)||void 0===n?void 0:n.data)}},children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(Y.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(y.jsxs)(d.a,{className:"".concat(i.a.Content," ").concat(X.a.Container," d-flex flex-column justify-content-center"),children:[Object(y.jsxs)(Z.a.Group,{className:"",children:[Object(y.jsx)(Z.a.Label,{className:"d-none",children:"Content"}),Object(y.jsx)(Z.a.Control,{type:"text",placeholder:"content",name:"content",className:X.a.Input,value:r,onChange:b})]}),null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),["radio"].map((e=>Object(y.jsxs)("div",{className:"mb-3",children:[Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"No stars",name:"rating",value:"0",type:e,id:"inline-".concat(e,"-1"),defaultChecked:0===o||null,onChange:b}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"One star",name:"rating",value:"1",type:e,id:"inline-".concat(e,"-2"),defaultChecked:1===o||null,onChange:b}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Two stars",name:"rating",value:"2",type:e,id:"inline-".concat(e,"-3"),defaultChecked:2===o||null,onChange:b}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Three stars",name:"rating",value:"3",type:e,id:"inline-".concat(e,"-4"),defaultChecked:3===o||null,onChange:b}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-regular fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Four stars",name:"rating",value:"4",type:e,id:"inline-".concat(e,"-5"),defaultChecked:4===o||null,onChange:b}),Object(y.jsx)("br",{}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)("i",{className:"fa-solid fa-star"}),Object(y.jsx)(Z.a.Check,{inline:!0,label:"Five stars",name:"rating",value:"5",type:e,id:"inline-".concat(e,"-6"),defaultChecked:5===o||null,onChange:b})]},"inline-".concat(e)))),null===t||void 0===t||null===(a=t.rating)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)("div",{className:"d-md-none",children:x})]})}),Object(y.jsx)(Y.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(y.jsx)(d.a,{className:i.a.Content,children:x})})]})})},ea=t(95),aa=t.n(ea);var ta=function(){const[e,a]=Object(s.useState)(!1),t=B(),{id:c}=Object(D.useParams)(),{setProfileData:n,handleFollow:l,handleUnfollow:r}=pe(),{pageProfile:o}=ge(),[j]=o.results,m=(null===t||void 0===t?void 0:t.username)===(null===j||void 0===j?void 0:j.owner),[u,b]=Object(s.useState)({results:[]});Object(s.useEffect)((()=>{(async()=>{try{const[{data:e},{data:t}]=await Promise.all([g.get("/profiles/".concat(c)),g.get("/reviews/?owner__profile=".concat(c))]);n((a=>({...a,pageProfile:{results:[e]}}))),b(t),a(!0)}catch(e){console.log(e)}})()}),[c,n]);const x=Object(y.jsxs)(y.Fragment,{children:[(null===j||void 0===j?void 0:j.is_owner)&&Object(y.jsx)(Fe,{id:null===j||void 0===j?void 0:j.id}),Object(y.jsxs)(G.a,{noGutters:!0,className:"px-3 text-center",children:[Object(y.jsx)(Y.a,{lg:3,className:"text-lg-left",children:Object(y.jsx)(te.a,{className:aa.a.ProfileImage,roundedCircle:!0,src:null===j||void 0===j?void 0:j.image})}),Object(y.jsxs)(Y.a,{lg:6,children:[Object(y.jsx)("h3",{className:"m-2",children:null===j||void 0===j?void 0:j.owner}),Object(y.jsxs)(G.a,{className:"justify-content-center no-gutters",children:[Object(y.jsxs)(Y.a,{xs:3,className:"my-2",children:[Object(y.jsx)("div",{children:null===j||void 0===j?void 0:j.reviews_count}),Object(y.jsx)("div",{children:"reviews"})]}),Object(y.jsxs)(Y.a,{xs:3,className:"my-2",children:[Object(y.jsx)("div",{children:null===j||void 0===j?void 0:j.followers_count}),Object(y.jsx)("div",{children:"followers"})]}),Object(y.jsxs)(Y.a,{xs:3,className:"my-2",children:[Object(y.jsx)("div",{children:null===j||void 0===j?void 0:j.following_count}),Object(y.jsx)("div",{children:"following"})]})]})]}),Object(y.jsx)(Y.a,{lg:3,className:"text-lg-right",children:t&&!m&&(null!==j&&void 0!==j&&j.following_id?Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.BlackOutline),onClick:()=>r(j),children:"unfollow"}):Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Black),onClick:()=>l(j),children:"follow"}))}),(null===j||void 0===j?void 0:j.content)&&Object(y.jsx)(Y.a,{className:"p-3",children:j.content})]})]}),O=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("hr",{}),Object(y.jsxs)("p",{className:"text-center",children:[null===j||void 0===j?void 0:j.owner,"'s reviews"]}),Object(y.jsx)("hr",{}),u.results.length?Object(y.jsx)(ze.a,{children:u.results.map((e=>Object(y.jsx)(_e,{...e,setReviews:b},e.id))),dataLength:u.results.length,loader:Object(y.jsx)(ae,{spinner:!0}),hasMore:!!u.next,next:()=>N(u,b)}):Object(y.jsx)(ae,{src:ue,message:"No results found, ".concat(null===j||void 0===j?void 0:j.owner," hasn't posted a review yet.")})]});return Object(y.jsxs)(G.a,{children:[Object(y.jsxs)(Y.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(y.jsx)(Ae,{mobile:!0}),Object(y.jsx)(d.a,{className:i.a.Content,children:e?Object(y.jsxs)(y.Fragment,{children:[x,O]}):Object(y.jsx)(ae,{spinner:!0})})]}),Object(y.jsx)(Y.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(y.jsx)(Ae,{})})]})};var sa=()=>{var e;const[a,t]=Object(s.useState)(""),[c,n]=Object(s.useState)({}),l=Object(D.useHistory)(),{id:r}=Object(D.useParams)(),o=B(),j=R();Object(s.useEffect)((()=>{var e;(null===o||void 0===o||null===(e=o.profile_id)||void 0===e?void 0:e.toString())===r?t(o.username):l.push("/")}),[o,l,r]);return Object(y.jsx)(G.a,{children:Object(y.jsx)(Y.a,{className:"py-2 mx-auto text-center",md:6,children:Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsxs)(Z.a,{onSubmit:async e=>{e.preventDefault();try{await p.put("/dj-rest-auth/user/",{username:a}),j((e=>({...e,username:a}))),l.goBack()}catch(s){var t;console.log(s),n(null===(t=s.response)||void 0===t?void 0:t.data)}},className:"my-2",children:[Object(y.jsxs)(Z.a.Group,{children:[Object(y.jsx)(Z.a.Label,{children:"Change username"}),Object(y.jsx)(Z.a.Control,{placeholder:"username",type:"text",value:a,onChange:e=>t(e.target.value)})]}),null===c||void 0===c||null===(e=c.username)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>l.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"save"})]})})})})};var ca=()=>{var e,a;const t=Object(D.useHistory)(),{id:c}=Object(D.useParams)(),n=B(),[l,r]=Object(s.useState)({new_password1:"",new_password2:""}),{new_password1:o,new_password2:j}=l,[m,u]=Object(s.useState)({}),b=e=>{r({...l,[e.target.name]:e.target.value})};Object(s.useEffect)((()=>{var e;(null===n||void 0===n||null===(e=n.profile_id)||void 0===e?void 0:e.toString())!==c&&t.push("/")}),[n,t,c]);return Object(y.jsx)(G.a,{children:Object(y.jsx)(Y.a,{className:"py-2 mx-auto text-center",md:6,children:Object(y.jsx)(d.a,{className:i.a.Content,children:Object(y.jsxs)(Z.a,{onSubmit:async e=>{e.preventDefault();try{await p.post("/dj-rest-auth/password/change/",l),t.goBack()}catch(s){var a;console.log(s),u(null===(a=s.response)||void 0===a?void 0:a.data)}},children:[Object(y.jsxs)(Z.a.Group,{children:[Object(y.jsx)(Z.a.Label,{children:"New password"}),Object(y.jsx)(Z.a.Control,{placeholder:"new password",type:"password",value:o,onChange:b,name:"new_password1"})]}),null===m||void 0===m||null===(e=m.new_password1)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsxs)(Z.a.Group,{children:[Object(y.jsx)(Z.a.Label,{children:"Confirm password"}),Object(y.jsx)(Z.a.Control,{placeholder:"confirm new password",type:"password",value:j,onChange:b,name:"new_password2"})]}),null===m||void 0===m||null===(a=m.new_password2)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>t.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{type:"submit",className:"".concat(T.a.Button," ").concat(T.a.Blue),children:"save"})]})})})})};var na=()=>{var e,a;const t=B(),c=R(),{id:n}=Object(D.useParams)(),l=Object(D.useHistory)(),r=Object(s.useRef)(),[o,j]=Object(s.useState)({name:"",content:"",image:""}),{name:m,content:u,image:b}=o,[x,O]=Object(s.useState)({});Object(s.useEffect)((()=>{(async()=>{var e;if((null===t||void 0===t||null===(e=t.profile_id)||void 0===e?void 0:e.toString())===n)try{const{data:e}=await g.get("/profiles/".concat(n,"/")),{name:a,content:t,image:s}=e;j({name:a,content:t,image:s})}catch(a){console.log(a),l.push("/")}else l.push("/")})()}),[t,l,n]);const h=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(Z.a.Group,{children:[Object(y.jsx)(Z.a.Label,{children:"Bio"}),Object(y.jsx)(Z.a.Control,{as:"textarea",value:u,onChange:e=>{j({...o,[e.target.name]:e.target.value})},name:"content",rows:7})]}),null===x||void 0===x||null===(e=x.content)||void 0===e?void 0:e.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),onClick:()=>l.goBack(),children:"cancel"}),Object(y.jsx)(V.a,{className:"".concat(T.a.Button," ").concat(T.a.Blue),type:"submit",children:"save"})]});return Object(y.jsx)(Z.a,{onSubmit:async e=>{var a;e.preventDefault();const t=new FormData;var s;(t.append("name",m),t.append("content",u),null!==r&&void 0!==r&&null!==(a=r.current)&&void 0!==a&&a.files[0])&&t.append("image",null===r||void 0===r||null===(s=r.current)||void 0===s?void 0:s.files[0]);try{const{data:e}=await g.put("/profiles/".concat(n),t);c((a=>({...a,profile_image:e.image}))),l.goBack()}catch(o){var i;console.log(o),O(null===(i=o.response)||void 0===i?void 0:i.data)}},children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(Y.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(y.jsxs)(d.a,{className:i.a.Content,children:[Object(y.jsxs)(Z.a.Group,{children:[b&&Object(y.jsx)("figure",{children:Object(y.jsx)(te.a,{src:b,fluid:!0})}),null===x||void 0===x||null===(a=x.image)||void 0===a?void 0:a.map(((e,a)=>Object(y.jsx)(z.a,{variant:"warning",children:e},a))),Object(y.jsx)("div",{children:Object(y.jsx)(Z.a.Label,{className:"".concat(T.a.Button," ").concat(T.a.Blue," btn my-auto"),htmlFor:"image-upload",children:"Change the image"})}),Object(y.jsx)(Z.a.File,{id:"image-upload",ref:r,accept:"image/*",onChange:e=>{e.target.files.length&&j({...o,image:URL.createObjectURL(e.target.files[0])})}})]}),Object(y.jsx)("div",{className:"d-md-none",children:h})]})}),Object(y.jsx)(Y.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(y.jsx)(d.a,{className:i.a.Content,children:h})})]})})},la=t(96),ra=t.n(la);var ia=()=>Object(y.jsx)("div",{className:ra.a.NotFoundImage,children:Object(y.jsx)(ae,{src:ue,message:"Sorry, the page you're looking for doen't exist"})});var oa=function(){const e=B(),a=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(y.jsxs)("div",{className:i.a.App,children:[Object(y.jsx)(Q,{}),Object(y.jsx)(d.a,{className:i.a.Main,children:Object(y.jsxs)(D.Switch,{children:[Object(y.jsx)(D.Route,{exact:!0,path:"/",render:()=>Object(y.jsx)(He,{message:"No results found. Adjust search keywords."})}),Object(y.jsx)(D.Route,{exact:!0,path:"/feed",render:()=>Object(y.jsx)(He,{message:"No results found. Adjust search keywords or follow a user.",filter:"owner__followed__owner__profile=".concat(a,"&")})}),Object(y.jsx)(D.Route,{exact:!0,path:"/liked",render:()=>Object(y.jsx)(He,{message:"No results found. Adjust search keywords or like a review.",filter:"likes__owner__profile=".concat(a,"&ordering=-likes__created_at&")})}),Object(y.jsx)(D.Route,{exact:!0,path:"/popular",render:()=>Object(y.jsx)(He,{message:"No results found. Adjust search keywords or like a review.",filter:"&ordering=-likes_count&"})}),Object(y.jsx)(D.Route,{exact:!0,path:"/reviewsm/:id",render:()=>Object(y.jsx)(We,{message:"No results found."})}),Object(y.jsx)(D.Route,{exact:!0,path:"/signin",render:()=>Object(y.jsx)(H,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/signup",render:()=>Object(y.jsx)(J,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/movies",render:()=>Object(y.jsx)(qe,{message:"No results found. Adjust search keywords."})}),Object(y.jsx)(D.Route,{exact:!0,path:"/movies/create",render:()=>Object(y.jsx)(ce,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/movies/:id",render:()=>Object(y.jsx)(Ce,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/movies/m/:id",render:()=>Object(y.jsx)(xe,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/reviews/create",render:()=>Object(y.jsx)(ne,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/reviews/m/:movie",render:()=>Object(y.jsx)(le,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/reviews/:id",render:()=>Object(y.jsx)(Ve,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/reviews/:id/edit",render:()=>Object(y.jsx)($e,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/profiles/:id",render:()=>Object(y.jsx)(ta,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/genres",render:()=>Object(y.jsx)(be,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/profiles/:id/edit/username",render:()=>Object(y.jsx)(sa,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/profiles/:id/edit/password",render:()=>Object(y.jsx)(ca,{})}),Object(y.jsx)(D.Route,{exact:!0,path:"/profiles/:id/edit",render:()=>Object(y.jsx)(na,{})}),Object(y.jsx)(D.Route,{render:()=>Object(y.jsx)(ia,{})})]})})]})};var ja=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,139)).then((a=>{let{getCLS:t,getFID:s,getFCP:c,getLCP:n,getTTFB:l}=a;t(e),s(e),c(e),n(e),l(e)}))};l.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(x.a,{children:Object(y.jsx)(S,{children:Object(y.jsx)(ve,{children:Object(y.jsx)(oa,{})})})})}),document.getElementById("root")),ja()},21:function(e,a,t){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Title:"NavBar_Title__8nG-y",Active:"NavBar_Active__3PBZb"}},23:function(e,a,t){e.exports={Container:"MovieCreateEditForm_Container__2wBXC"}},26:function(e,a,t){e.exports={ReviewContainer:"Review_ReviewContainer__3aY3I",Review:"Review_Review___6jf0",Heart:"Review_Heart__mZMGo",HeartOutline:"Review_HeartOutline__WMjfZ",ReviewStars:"Review_ReviewStars__1TynR",ImageContainer:"Review_ImageContainer__1vEfR",ReviewContainerCol:"Review_ReviewContainerCol__MSCt-",ReviewContainerRow:"Review_ReviewContainerRow__3mT_f",ProfileContainer:"Review_ProfileContainer__IgIgJ",ContentContainer:"Review_ContentContainer__1hh1I",DropDownContainer:"Review_DropDownContainer__lbrsI",BottomRow:"Review_BottomRow__1QPAZ",Title:"Review_Title__1MBUF",MovieImage:"Review_MovieImage__fLAzQ",ReviewMedia:"Review_ReviewMedia__1BKWD"}},29:function(e,a,t){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y"}},31:function(e,a,t){e.exports={SearchBar:"ReviewsPage_SearchBar__3IbZj",SearchIcon:"ReviewsPage_SearchIcon__3zgJS"}},32:function(e,a,t){e.exports={Movie:"Movie_Movie__3dnEf",Heart:"Movie_Heart__2GH2a",HeartOutline:"Movie_HeartOutline__14z1K",MovieImage:"Movie_MovieImage__1xUIT",MovieImageContainer:"Movie_MovieImageContainer__LCq_e",MovieContainer:"Movie_MovieContainer__37r2E",InnerMovieContainer:"Movie_InnerMovieContainer__20enV",MovieTitle:"Movie_MovieTitle__3hFfV",MovieTitleContainer:"Movie_MovieTitleContainer__3dXiu",MovieTextcontainer:"Movie_MovieTextcontainer__2Npk1",Actors:"Movie_Actors__wtGGB",Truncate:"Movie_Truncate__3O9Ne"}},48:function(e,a,t){e.exports={Form:"CommentCreateEditForm_Form__1Qeyz",Button:"CommentCreateEditForm_Button__sGFSX"}},68:function(e,a,t){e.exports={DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70"}},88:function(e,a,t){e.exports={Avatar:"Avatar_Avatar__196lW"}},9:function(e,a,t){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Blue:"Button_Blue__10GcT",BlueOutline:"Button_BlueOutline__YqCWO",Bright:"Button_Bright__1MBHR",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-"}},90:function(e,a,t){e.exports={Asset:"Asset_Asset__1dBcX"}},92:function(e,a,t){e.exports={WordBreak:"Profile_WordBreak__3_YmI"}},94:function(e,a,t){e.exports={Owner:"Comment_Owner__3sgYe",Date:"Comment_Date__10qt0"}},95:function(e,a,t){e.exports={ProfileImage:"ProfilePage_ProfileImage__7dvRw"}},96:function(e,a,t){e.exports={NotFoundImage:"NotFound_NotFoundImage__1ew1C"}}},[[133,1,2]]]);
//# sourceMappingURL=main.ee0e8802.chunk.js.map